/**
 * Tag every crossword-suitable word in NWL2023.txt with matching themes.
 * Outputs src/assets/wordlist/NWL2023-themed.json
 *
 * Run: bun run scripts/tagThemes.ts
 */

import { readFileSync, writeFileSync } from "fs"
import { join } from "path"

// ─── Theme definitions ───────────────────────────────────────────
// Each theme has a display name and an array of keywords.
// A word matches if its word + definition contains any keyword (case-insensitive, word boundary).

const THEMES: Record<string, string[]> = {
  // ── Serious / Educational ──────────────────────────────
  Animals: [
    "animal",
    "dog",
    "cat",
    "bird",
    "fish",
    "horse",
    "cow",
    "sheep",
    "goat",
    "deer",
    "bear",
    "wolf",
    "fox",
    "lion",
    "tiger",
    "elephant",
    "monkey",
    "ape",
    "rabbit",
    "hare",
    "mouse",
    "rat",
    "snake",
    "lizard",
    "frog",
    "toad",
    "turtle",
    "mammal",
    "reptile",
    "amphibian",
    "primate",
    "canine",
    "feline",
    "bovine",
    "equine",
    "porcine",
    "avian",
    "beast",
    "creature",
    "pet",
    "livestock",
    "predator",
    "prey",
    "herd",
    "flock",
    "pack",
    "paw",
    "claw",
    "tail",
    "snout",
    "mane",
    "fur",
    "feather",
  ],
  "Ocean & Sea": [
    "ocean",
    "sea",
    "marine",
    "water",
    "fish",
    "whale",
    "shark",
    "coral",
    "reef",
    "tide",
    "wave",
    "surf",
    "shore",
    "beach",
    "coast",
    "island",
    "harbor",
    "port",
    "sail",
    "ship",
    "boat",
    "anchor",
    "nautical",
    "naval",
    "submarine",
    "dolphin",
    "squid",
    "octopus",
    "crab",
    "lobster",
    "shrimp",
    "oyster",
    "clam",
    "seaweed",
    "kelp",
    "plankton",
    "abyss",
    "deep",
    "current",
    "riptide",
    "lagoon",
    "bay",
    "gulf",
    "strait",
    "fjord",
  ],
  "Space & Astronomy": [
    "space",
    "star",
    "planet",
    "moon",
    "sun",
    "solar",
    "lunar",
    "orbit",
    "galaxy",
    "cosmos",
    "comet",
    "asteroid",
    "meteor",
    "nebula",
    "quasar",
    "pulsar",
    "satellite",
    "rocket",
    "astronaut",
    "telescope",
    "celestial",
    "stellar",
    "nova",
    "eclipse",
    "equinox",
    "solstice",
    "constellation",
    "cosmic",
    "alien",
    "mars",
    "venus",
    "jupiter",
    "saturn",
    "mercury",
  ],
  "Food & Cooking": [
    "food",
    "cook",
    "bake",
    "roast",
    "fry",
    "boil",
    "stew",
    "soup",
    "bread",
    "cake",
    "pie",
    "meat",
    "beef",
    "pork",
    "chicken",
    "lamb",
    "fish",
    "rice",
    "pasta",
    "noodle",
    "sauce",
    "spice",
    "herb",
    "salt",
    "pepper",
    "sugar",
    "flour",
    "butter",
    "cheese",
    "milk",
    "cream",
    "egg",
    "fruit",
    "vegetable",
    "salad",
    "meal",
    "dish",
    "recipe",
    "chef",
    "kitchen",
    "oven",
    "grill",
    "pan",
    "pot",
    "feast",
    "dine",
    "eat",
    "taste",
    "flavor",
    "savor",
    "delicious",
    "yummy",
  ],
  "Music & Sound": [
    "music",
    "song",
    "sing",
    "tune",
    "melody",
    "harmony",
    "rhythm",
    "beat",
    "drum",
    "guitar",
    "piano",
    "violin",
    "flute",
    "horn",
    "trumpet",
    "bass",
    "chord",
    "note",
    "scale",
    "octave",
    "tempo",
    "band",
    "orchestra",
    "choir",
    "concert",
    "opera",
    "jazz",
    "rock",
    "blues",
    "folk",
    "hymn",
    "lyric",
    "vocal",
    "acoustic",
    "sonic",
    "sound",
    "tone",
    "pitch",
    "loud",
    "quiet",
    "hum",
    "whistle",
  ],
  Sports: [
    "sport",
    "game",
    "play",
    "team",
    "score",
    "goal",
    "win",
    "lose",
    "ball",
    "bat",
    "racket",
    "net",
    "field",
    "court",
    "arena",
    "stadium",
    "race",
    "run",
    "swim",
    "jump",
    "throw",
    "kick",
    "hit",
    "catch",
    "coach",
    "athlete",
    "champion",
    "league",
    "tournament",
    "match",
    "golf",
    "tennis",
    "soccer",
    "football",
    "baseball",
    "basketball",
    "hockey",
    "boxing",
    "wrestling",
    "skiing",
    "skating",
    "surfing",
  ],
  History: [
    "history",
    "ancient",
    "medieval",
    "century",
    "era",
    "epoch",
    "dynasty",
    "empire",
    "kingdom",
    "colony",
    "revolution",
    "war",
    "battle",
    "siege",
    "treaty",
    "king",
    "queen",
    "emperor",
    "pharaoh",
    "knight",
    "castle",
    "throne",
    "crown",
    "sword",
    "shield",
    "armor",
    "conquer",
    "invade",
    "republic",
    "democracy",
    "feudal",
    "viking",
    "roman",
    "greek",
    "egyptian",
    "persian",
    "ottoman",
    "colonial",
    "renaissance",
  ],
  Geography: [
    "mountain",
    "valley",
    "river",
    "lake",
    "ocean",
    "desert",
    "forest",
    "jungle",
    "island",
    "peninsula",
    "continent",
    "plateau",
    "canyon",
    "cliff",
    "hill",
    "plain",
    "tundra",
    "glacier",
    "volcano",
    "delta",
    "marsh",
    "swamp",
    "bog",
    "prairie",
    "steppe",
    "savanna",
    "oasis",
    "cape",
    "strait",
    "basin",
    "terrain",
    "topography",
    "latitude",
    "longitude",
    "equator",
    "arctic",
    "tropic",
    "polar",
    "coastal",
  ],
  "Science & Chemistry": [
    "science",
    "atom",
    "molecule",
    "element",
    "compound",
    "chemical",
    "reaction",
    "acid",
    "base",
    "ion",
    "electron",
    "proton",
    "neutron",
    "nucleus",
    "cell",
    "dna",
    "gene",
    "protein",
    "enzyme",
    "bacteria",
    "virus",
    "organism",
    "species",
    "evolution",
    "theory",
    "experiment",
    "laboratory",
    "microscope",
    "formula",
    "energy",
    "force",
    "gravity",
    "physics",
    "biology",
    "chemistry",
    "quantum",
    "radiation",
  ],
  "Medicine & Health": [
    "medicine",
    "doctor",
    "nurse",
    "hospital",
    "surgery",
    "disease",
    "illness",
    "fever",
    "pain",
    "wound",
    "heal",
    "cure",
    "drug",
    "pill",
    "dose",
    "injection",
    "vaccine",
    "blood",
    "bone",
    "muscle",
    "nerve",
    "organ",
    "heart",
    "lung",
    "liver",
    "brain",
    "skin",
    "health",
    "wellness",
    "therapy",
    "diagnosis",
    "symptom",
    "chronic",
    "acute",
    "patient",
    "medical",
    "clinical",
    "anatomy",
    "surgical",
  ],
  "Plants & Garden": [
    "plant",
    "flower",
    "tree",
    "bush",
    "shrub",
    "vine",
    "root",
    "stem",
    "leaf",
    "petal",
    "seed",
    "bloom",
    "blossom",
    "garden",
    "soil",
    "dirt",
    "weed",
    "grass",
    "moss",
    "fern",
    "palm",
    "oak",
    "pine",
    "maple",
    "birch",
    "willow",
    "rose",
    "lily",
    "daisy",
    "tulip",
    "orchid",
    "herb",
    "crop",
    "harvest",
    "pollen",
    "nectar",
    "sap",
    "bark",
    "thorn",
    "sprout",
    "botanical",
    "flora",
    "foliage",
  ],
  "Weather & Climate": [
    "weather",
    "rain",
    "snow",
    "storm",
    "wind",
    "cloud",
    "thunder",
    "lightning",
    "tornado",
    "hurricane",
    "cyclone",
    "flood",
    "drought",
    "fog",
    "mist",
    "hail",
    "frost",
    "ice",
    "freeze",
    "thaw",
    "heat",
    "cold",
    "warm",
    "cool",
    "sunny",
    "cloudy",
    "humid",
    "dry",
    "wet",
    "temperature",
    "climate",
    "season",
    "monsoon",
    "blizzard",
    "breeze",
    "gale",
    "gust",
    "dew",
    "sleet",
    "barometer",
    "forecast",
  ],
  "War & Military": [
    "war",
    "army",
    "navy",
    "soldier",
    "military",
    "battle",
    "fight",
    "weapon",
    "gun",
    "rifle",
    "cannon",
    "bomb",
    "missile",
    "tank",
    "fort",
    "base",
    "troop",
    "regiment",
    "brigade",
    "general",
    "captain",
    "sergeant",
    "combat",
    "attack",
    "defend",
    "siege",
    "retreat",
    "surrender",
    "victory",
    "defeat",
    "medal",
    "veteran",
    "armor",
    "barracks",
    "patrol",
    "sniper",
    "grenade",
    "artillery",
  ],
  "Law & Crime": [
    "law",
    "legal",
    "court",
    "judge",
    "jury",
    "trial",
    "crime",
    "criminal",
    "police",
    "arrest",
    "prison",
    "jail",
    "guilty",
    "innocent",
    "verdict",
    "sentence",
    "fine",
    "bail",
    "parole",
    "felony",
    "theft",
    "robbery",
    "murder",
    "fraud",
    "witness",
    "evidence",
    "attorney",
    "lawyer",
    "statute",
    "ordinance",
    "justice",
    "sue",
    "lawsuit",
    "defense",
  ],
  "Money & Finance": [
    "money",
    "cash",
    "coin",
    "dollar",
    "cent",
    "bank",
    "loan",
    "debt",
    "credit",
    "debit",
    "profit",
    "loss",
    "stock",
    "bond",
    "invest",
    "wealth",
    "rich",
    "poor",
    "tax",
    "budget",
    "income",
    "wage",
    "salary",
    "price",
    "cost",
    "cheap",
    "expensive",
    "trade",
    "market",
    "currency",
    "gold",
    "silver",
    "treasury",
    "fiscal",
    "financial",
  ],
  Religion: [
    "religion",
    "god",
    "divine",
    "holy",
    "sacred",
    "church",
    "temple",
    "mosque",
    "prayer",
    "worship",
    "faith",
    "soul",
    "spirit",
    "heaven",
    "hell",
    "angel",
    "demon",
    "saint",
    "priest",
    "monk",
    "nun",
    "bishop",
    "pope",
    "bible",
    "gospel",
    "psalm",
    "hymn",
    "sermon",
    "ritual",
    "ceremony",
    "blessing",
    "sin",
    "virtue",
    "piety",
    "salvation",
    "redemption",
    "miracle",
    "prophet",
    "pilgrim",
  ],
  Architecture: [
    "building",
    "house",
    "tower",
    "bridge",
    "arch",
    "dome",
    "column",
    "pillar",
    "wall",
    "roof",
    "floor",
    "door",
    "window",
    "stair",
    "room",
    "hall",
    "chamber",
    "vault",
    "cathedral",
    "castle",
    "palace",
    "temple",
    "facade",
    "beam",
    "brick",
    "stone",
    "mortar",
    "cement",
    "foundation",
    "structure",
    "design",
    "blueprint",
    "construct",
  ],
  Fashion: [
    "fashion",
    "clothes",
    "dress",
    "shirt",
    "pants",
    "skirt",
    "coat",
    "jacket",
    "hat",
    "shoe",
    "boot",
    "scarf",
    "tie",
    "belt",
    "glove",
    "silk",
    "cotton",
    "wool",
    "linen",
    "leather",
    "velvet",
    "satin",
    "fabric",
    "textile",
    "sew",
    "stitch",
    "hem",
    "tailor",
    "style",
    "trend",
    "chic",
    "elegant",
    "garment",
    "attire",
    "outfit",
    "robe",
  ],
  Mathematics: [
    "math",
    "number",
    "count",
    "sum",
    "add",
    "subtract",
    "multiply",
    "divide",
    "fraction",
    "decimal",
    "percent",
    "equation",
    "formula",
    "algebra",
    "geometry",
    "calculus",
    "triangle",
    "circle",
    "square",
    "angle",
    "degree",
    "radius",
    "diameter",
    "area",
    "volume",
    "graph",
    "axis",
    "curve",
    "linear",
    "polynomial",
    "integer",
    "prime",
    "ratio",
    "proportion",
    "theorem",
    "proof",
    "calculate",
    "compute",
  ],
  "Literature & Books": [
    "book",
    "novel",
    "story",
    "tale",
    "poem",
    "poet",
    "author",
    "writer",
    "read",
    "write",
    "chapter",
    "verse",
    "prose",
    "fiction",
    "fantasy",
    "drama",
    "comedy",
    "tragedy",
    "epic",
    "saga",
    "fable",
    "myth",
    "legend",
    "narrative",
    "plot",
    "character",
    "hero",
    "villain",
    "library",
    "publish",
    "edition",
    "manuscript",
    "literary",
    "genre",
  ],
  Mythology: [
    "myth",
    "legend",
    "god",
    "goddess",
    "titan",
    "hero",
    "monster",
    "dragon",
    "phoenix",
    "unicorn",
    "griffin",
    "centaur",
    "minotaur",
    "hydra",
    "kraken",
    "siren",
    "nymph",
    "fairy",
    "elf",
    "dwarf",
    "troll",
    "ogre",
    "giant",
    "oracle",
    "prophecy",
    "quest",
    "fate",
    "destiny",
    "enchant",
    "magic",
    "spell",
    "curse",
    "charm",
    "mythical",
    "olympus",
    "valhalla",
    "underworld",
    "supernatural",
    "mystical",
  ],
  Technology: [
    "technology",
    "computer",
    "digital",
    "software",
    "hardware",
    "code",
    "program",
    "data",
    "internet",
    "web",
    "network",
    "server",
    "cloud",
    "device",
    "screen",
    "pixel",
    "byte",
    "chip",
    "circuit",
    "wire",
    "cable",
    "robot",
    "machine",
    "engine",
    "electric",
    "battery",
    "sensor",
    "signal",
    "radio",
    "laser",
    "fiber",
    "nano",
    "cyber",
  ],
  Transportation: [
    "transport",
    "car",
    "truck",
    "bus",
    "train",
    "plane",
    "boat",
    "ship",
    "bicycle",
    "motorcycle",
    "vehicle",
    "drive",
    "ride",
    "fly",
    "sail",
    "road",
    "highway",
    "railway",
    "airport",
    "station",
    "terminal",
    "wheel",
    "engine",
    "fuel",
    "speed",
    "brake",
    "steer",
    "navigate",
    "route",
    "journey",
    "travel",
    "voyage",
    "commute",
    "transit",
  ],
  Education: [
    "education",
    "school",
    "college",
    "university",
    "teach",
    "learn",
    "student",
    "teacher",
    "professor",
    "class",
    "lesson",
    "course",
    "study",
    "exam",
    "test",
    "grade",
    "degree",
    "diploma",
    "scholar",
    "academic",
    "campus",
    "lecture",
    "tutor",
    "curriculum",
    "textbook",
    "homework",
    "knowledge",
    "wisdom",
    "skill",
    "training",
  ],
  "Insects & Bugs": [
    "insect",
    "bug",
    "ant",
    "bee",
    "wasp",
    "fly",
    "moth",
    "butterfly",
    "beetle",
    "spider",
    "tick",
    "flea",
    "louse",
    "cricket",
    "grasshopper",
    "mosquito",
    "dragonfly",
    "ladybug",
    "caterpillar",
    "larva",
    "pupa",
    "cocoon",
    "hive",
    "swarm",
    "sting",
    "bite",
    "crawl",
    "wing",
    "antenna",
    "thorax",
    "abdomen",
    "exoskeleton",
    "metamorphosis",
  ],

  // ── Silly / Playful / Fun ─────────────────────────────
  "Things That Are Sticky": [
    "sticky",
    "glue",
    "gum",
    "tape",
    "honey",
    "syrup",
    "sap",
    "resin",
    "paste",
    "tar",
    "wax",
    "slime",
    "goo",
    "gel",
    "jam",
    "jelly",
    "caramel",
    "toffee",
    "molasses",
    "adhesive",
    "cling",
    "gummy",
    "tacky",
    "mucus",
    "ooze",
    "dough",
  ],
  "Sounds Animals Make": [
    "bark",
    "meow",
    "moo",
    "oink",
    "baa",
    "neigh",
    "roar",
    "growl",
    "hiss",
    "buzz",
    "chirp",
    "tweet",
    "squawk",
    "caw",
    "hoot",
    "howl",
    "yelp",
    "purr",
    "quack",
    "cluck",
    "gobble",
    "croak",
    "ribbit",
    "screech",
    "squeal",
    "bleat",
    "bray",
    "coo",
    "warble",
    "trill",
  ],
  "Stuff in a Junk Drawer": [
    "battery",
    "tape",
    "string",
    "rubber",
    "clip",
    "pin",
    "needle",
    "button",
    "key",
    "coin",
    "pen",
    "pencil",
    "eraser",
    "ruler",
    "scissors",
    "twine",
    "wire",
    "nail",
    "screw",
    "bolt",
    "washer",
    "magnet",
    "match",
    "candle",
    "glue",
    "stamp",
    "coupon",
    "receipt",
    "manual",
    "card",
    "dice",
    "marble",
  ],
  "Things a Pirate Would Say": [
    "pirate",
    "ship",
    "treasure",
    "gold",
    "parrot",
    "sword",
    "cannon",
    "plank",
    "sail",
    "anchor",
    "rum",
    "skull",
    "bone",
    "chest",
    "map",
    "island",
    "harbor",
    "loot",
    "plunder",
    "raid",
    "mutiny",
    "crew",
    "captain",
    "deck",
    "mast",
    "hull",
    "rigging",
    "buccaneer",
    "corsair",
    "swashbuckle",
    "booty",
    "doubloon",
    "cutlass",
    "galleon",
    "voyage",
  ],
  "Grandma's Kitchen": [
    "cookie",
    "pie",
    "cake",
    "bread",
    "jam",
    "jelly",
    "butter",
    "cream",
    "sugar",
    "flour",
    "oven",
    "apron",
    "kettle",
    "teapot",
    "cup",
    "saucer",
    "spoon",
    "ladle",
    "bowl",
    "plate",
    "napkin",
    "dough",
    "batter",
    "cinnamon",
    "vanilla",
    "nutmeg",
    "clove",
    "honey",
    "preserve",
    "pickle",
    "stew",
    "broth",
    "biscuit",
    "scone",
    "tart",
  ],
  "Wizard Supplies": [
    "wand",
    "spell",
    "magic",
    "potion",
    "cauldron",
    "crystal",
    "orb",
    "staff",
    "robe",
    "cloak",
    "scroll",
    "tome",
    "rune",
    "charm",
    "enchant",
    "hex",
    "curse",
    "brew",
    "elixir",
    "talisman",
    "amulet",
    "pendant",
    "gem",
    "ruby",
    "emerald",
    "sapphire",
    "diamond",
    "sorcery",
    "wizard",
    "witch",
    "alchemy",
    "arcane",
    "mystic",
    "phantom",
    "specter",
    "spirit",
    "demon",
    "dragon",
  ],
  "Dungeon Crawl": [
    "dungeon",
    "dragon",
    "sword",
    "shield",
    "armor",
    "helm",
    "quest",
    "treasure",
    "goblin",
    "troll",
    "ogre",
    "orc",
    "elf",
    "dwarf",
    "mage",
    "rogue",
    "warrior",
    "knight",
    "castle",
    "tower",
    "moat",
    "trap",
    "chest",
    "key",
    "torch",
    "lantern",
    "cave",
    "crypt",
    "tomb",
    "skeleton",
    "zombie",
    "vampire",
    "demon",
    "boss",
    "loot",
    "potion",
    "scroll",
    "spell",
    "gem",
    "gold",
    "silver",
  ],
  "Breakfast Club": [
    "breakfast",
    "egg",
    "bacon",
    "toast",
    "cereal",
    "oat",
    "pancake",
    "waffle",
    "syrup",
    "butter",
    "jam",
    "juice",
    "coffee",
    "tea",
    "milk",
    "cream",
    "sugar",
    "muffin",
    "bagel",
    "croissant",
    "donut",
    "fruit",
    "banana",
    "berry",
    "melon",
    "yogurt",
    "granola",
    "hash",
    "omelet",
    "sausage",
    "biscuit",
    "honey",
    "maple",
    "morning",
  ],
  "Bad First Date": [
    "awkward",
    "nervous",
    "sweat",
    "blush",
    "stammer",
    "spill",
    "stain",
    "boring",
    "late",
    "check",
    "bill",
    "tip",
    "phone",
    "text",
    "ghost",
    "silence",
    "yawn",
    "fumble",
    "trip",
    "slip",
    "crash",
    "burn",
    "excuse",
    "escape",
    "lie",
    "brag",
    "snore",
    "belch",
    "hiccup",
    "cringe",
    "dull",
    "flat",
    "bland",
    "stale",
  ],
  "Haunted House": [
    "ghost",
    "haunt",
    "spook",
    "scare",
    "fright",
    "creep",
    "eerie",
    "dark",
    "shadow",
    "cobweb",
    "spider",
    "bat",
    "owl",
    "raven",
    "skull",
    "skeleton",
    "coffin",
    "tomb",
    "grave",
    "crypt",
    "chain",
    "moan",
    "groan",
    "shriek",
    "scream",
    "howl",
    "phantom",
    "specter",
    "ghoul",
    "zombie",
    "vampire",
    "werewolf",
    "witch",
    "curse",
    "hex",
    "doom",
    "gloom",
    "fog",
    "mist",
    "candle",
    "lantern",
  ],
  "Time Travel": [
    "time",
    "clock",
    "watch",
    "hour",
    "minute",
    "second",
    "past",
    "future",
    "present",
    "ancient",
    "modern",
    "era",
    "epoch",
    "age",
    "century",
    "decade",
    "year",
    "day",
    "temporal",
    "paradox",
    "loop",
    "warp",
    "flux",
    "portal",
    "dimension",
    "parallel",
    "vortex",
    "timeline",
    "chronology",
    "eternal",
    "infinite",
    "perpetual",
  ],
  Superhero: [
    "hero",
    "super",
    "power",
    "strength",
    "speed",
    "flight",
    "cape",
    "mask",
    "shield",
    "villain",
    "nemesis",
    "rescue",
    "save",
    "justice",
    "mighty",
    "brave",
    "bold",
    "fearless",
    "invincible",
    "laser",
    "beam",
    "blast",
    "force",
    "energy",
    "mutant",
    "transform",
    "armor",
    "stealth",
    "agile",
    "swift",
    "thunder",
    "lightning",
    "cosmic",
  ],
  "Spy Stuff": [
    "spy",
    "agent",
    "secret",
    "code",
    "cipher",
    "decode",
    "mission",
    "covert",
    "stealth",
    "disguise",
    "alias",
    "gadget",
    "camera",
    "bug",
    "wire",
    "tap",
    "intel",
    "clue",
    "trail",
    "chase",
    "escape",
    "safe",
    "vault",
    "lock",
    "key",
    "passport",
    "border",
    "shadow",
    "surveillance",
    "encrypt",
    "classified",
    "double",
    "mole",
    "handler",
  ],
  "Cozy Vibes": [
    "cozy",
    "warm",
    "soft",
    "fuzzy",
    "blanket",
    "pillow",
    "quilt",
    "fire",
    "hearth",
    "candle",
    "lamp",
    "glow",
    "tea",
    "cocoa",
    "cookie",
    "book",
    "read",
    "nap",
    "rest",
    "sleep",
    "dream",
    "quiet",
    "calm",
    "peace",
    "gentle",
    "snug",
    "nest",
    "cottage",
    "cabin",
    "sweater",
    "sock",
    "slipper",
    "wool",
    "knit",
    "purr",
  ],
  "Things That Glow": [
    "glow",
    "shine",
    "gleam",
    "glint",
    "glitter",
    "sparkle",
    "shimmer",
    "flash",
    "flare",
    "beam",
    "ray",
    "light",
    "bright",
    "luminous",
    "radiant",
    "neon",
    "fluorescent",
    "phosphor",
    "ember",
    "flame",
    "fire",
    "torch",
    "lantern",
    "candle",
    "lamp",
    "bulb",
    "star",
    "moon",
    "sun",
    "aurora",
    "dawn",
    "dusk",
    "twilight",
  ],
  "Tiny Things": [
    "tiny",
    "small",
    "little",
    "mini",
    "micro",
    "minute",
    "wee",
    "petite",
    "slight",
    "narrow",
    "thin",
    "fine",
    "delicate",
    "dainty",
    "compact",
    "miniature",
    "dwarf",
    "pygmy",
    "pint",
    "shrimp",
    "gnat",
    "mite",
    "flea",
    "speck",
    "dot",
    "grain",
    "crumb",
    "morsel",
    "sliver",
    "fragment",
    "particle",
    "atom",
    "bit",
  ],
  "Enormous Things": [
    "enormous",
    "huge",
    "giant",
    "massive",
    "colossal",
    "immense",
    "vast",
    "grand",
    "great",
    "large",
    "big",
    "broad",
    "wide",
    "tall",
    "towering",
    "mammoth",
    "titanic",
    "epic",
    "mega",
    "monumental",
    "whale",
    "elephant",
    "mountain",
    "ocean",
    "continent",
    "planet",
    "boulder",
    "behemoth",
    "leviathan",
    "gargantuan",
    "whopping",
  ],
  "Things You Sit On": [
    "chair",
    "seat",
    "bench",
    "stool",
    "couch",
    "sofa",
    "throne",
    "saddle",
    "cushion",
    "mat",
    "pad",
    "log",
    "rock",
    "ledge",
    "pew",
    "ottoman",
    "recliner",
    "rocker",
    "swing",
    "hammock",
    "lap",
    "floor",
    "ground",
    "perch",
    "settle",
  ],
  "Things That Spin": [
    "spin",
    "turn",
    "rotate",
    "twirl",
    "whirl",
    "swirl",
    "spiral",
    "wheel",
    "gear",
    "cog",
    "top",
    "gyroscope",
    "turbine",
    "propeller",
    "fan",
    "windmill",
    "tornado",
    "cyclone",
    "vortex",
    "eddy",
    "pinwheel",
    "reel",
    "spool",
    "bobbin",
    "lathe",
    "drill",
    "pivot",
    "revolve",
    "orbit",
    "roll",
    "tumble",
  ],
  "Party Time": [
    "party",
    "dance",
    "music",
    "song",
    "sing",
    "celebrate",
    "toast",
    "cheer",
    "confetti",
    "balloon",
    "cake",
    "candle",
    "gift",
    "present",
    "feast",
    "banquet",
    "gala",
    "ball",
    "carnival",
    "festival",
    "fiesta",
    "disco",
    "groove",
    "rhythm",
    "beat",
    "fun",
    "joy",
    "merry",
    "jolly",
    "festive",
    "punch",
    "streamer",
    "ribbon",
  ],
  "At the Beach": [
    "beach",
    "sand",
    "sun",
    "surf",
    "wave",
    "tide",
    "shell",
    "shore",
    "coast",
    "dune",
    "tan",
    "swim",
    "dive",
    "float",
    "splash",
    "towel",
    "umbrella",
    "sunburn",
    "lotion",
    "sandcastle",
    "bucket",
    "shovel",
    "seagull",
    "crab",
    "jellyfish",
    "starfish",
    "coral",
    "pier",
    "boardwalk",
    "lifeguard",
    "bikini",
    "trunks",
  ],
  "In the Workshop": [
    "hammer",
    "nail",
    "screw",
    "bolt",
    "wrench",
    "drill",
    "saw",
    "plier",
    "clamp",
    "vise",
    "file",
    "sand",
    "polish",
    "paint",
    "brush",
    "stain",
    "lacquer",
    "glue",
    "tape",
    "measure",
    "level",
    "wood",
    "plank",
    "board",
    "dowel",
    "lathe",
    "chisel",
    "gouge",
    "craft",
    "build",
    "construct",
    "repair",
    "fix",
    "weld",
    "solder",
  ],
  "Rainy Day": [
    "rain",
    "storm",
    "cloud",
    "thunder",
    "lightning",
    "puddle",
    "splash",
    "drip",
    "drop",
    "pour",
    "shower",
    "drizzle",
    "downpour",
    "flood",
    "umbrella",
    "raincoat",
    "boot",
    "galosh",
    "gutter",
    "drain",
    "damp",
    "wet",
    "soggy",
    "muddy",
    "gray",
    "overcast",
    "gloom",
    "drench",
    "soak",
    "mist",
    "fog",
  ],
  "Under the Microscope": [
    "cell",
    "germ",
    "bacteria",
    "virus",
    "microbe",
    "amoeba",
    "nucleus",
    "membrane",
    "protein",
    "dna",
    "rna",
    "gene",
    "chromosome",
    "mitosis",
    "organism",
    "specimen",
    "slide",
    "lens",
    "magnify",
    "stain",
    "culture",
    "petri",
    "pipette",
    "lab",
    "research",
    "observe",
    "molecular",
    "cellular",
    "tissue",
    "fiber",
  ],
  "Movie Night": [
    "movie",
    "film",
    "cinema",
    "theater",
    "screen",
    "actor",
    "actress",
    "director",
    "scene",
    "plot",
    "script",
    "role",
    "cast",
    "star",
    "camera",
    "lens",
    "edit",
    "cut",
    "take",
    "shoot",
    "reel",
    "frame",
    "sequel",
    "trailer",
    "premiere",
    "popcorn",
    "ticket",
    "seat",
    "horror",
    "comedy",
    "drama",
    "action",
    "thriller",
    "romance",
  ],
  "Campfire Stories": [
    "campfire",
    "fire",
    "flame",
    "smoke",
    "ember",
    "ash",
    "log",
    "tent",
    "camp",
    "hike",
    "trail",
    "forest",
    "woods",
    "bear",
    "wolf",
    "owl",
    "cricket",
    "star",
    "moon",
    "night",
    "dark",
    "ghost",
    "spooky",
    "tale",
    "story",
    "legend",
    "myth",
    "scare",
    "marshmallow",
    "roast",
    "lantern",
    "sleeping",
    "bag",
    "pine",
  ],
  "Color Explosion": [
    "color",
    "red",
    "blue",
    "green",
    "yellow",
    "orange",
    "purple",
    "pink",
    "black",
    "white",
    "gray",
    "brown",
    "gold",
    "silver",
    "bronze",
    "crimson",
    "scarlet",
    "azure",
    "cobalt",
    "emerald",
    "jade",
    "ruby",
    "amber",
    "ivory",
    "ebony",
    "violet",
    "indigo",
    "magenta",
    "teal",
    "coral",
    "maroon",
    "tan",
    "beige",
    "hue",
    "shade",
    "tint",
    "dye",
    "paint",
    "pigment",
    "spectrum",
    "rainbow",
  ],
  "Love & Romance": [
    "love",
    "heart",
    "kiss",
    "hug",
    "romance",
    "passion",
    "desire",
    "adore",
    "cherish",
    "sweetheart",
    "darling",
    "dear",
    "honey",
    "valentine",
    "rose",
    "flower",
    "ring",
    "wed",
    "bride",
    "groom",
    "vow",
    "bliss",
    "charm",
    "flirt",
    "woo",
    "court",
    "amour",
    "affection",
    "devotion",
    "tender",
    "gentle",
    "caress",
    "embrace",
  ],
  "Game Night": [
    "game",
    "play",
    "card",
    "dice",
    "board",
    "chess",
    "checker",
    "pawn",
    "rook",
    "bishop",
    "king",
    "queen",
    "knight",
    "domino",
    "puzzle",
    "riddle",
    "trivia",
    "quiz",
    "score",
    "point",
    "win",
    "lose",
    "draw",
    "tie",
    "turn",
    "move",
    "strategy",
    "bluff",
    "bet",
    "wager",
    "ante",
    "jackpot",
    "token",
    "chip",
  ],
  "Rock & Roll": [
    "rock",
    "roll",
    "guitar",
    "bass",
    "drum",
    "amp",
    "riff",
    "solo",
    "chord",
    "strum",
    "pick",
    "fret",
    "stage",
    "concert",
    "tour",
    "band",
    "punk",
    "metal",
    "grunge",
    "indie",
    "vinyl",
    "record",
    "album",
    "track",
    "single",
    "hit",
    "jam",
    "groove",
    "rebel",
    "loud",
    "distort",
    "feedback",
    "mosh",
    "encore",
  ],
  "Yoga & Zen": [
    "yoga",
    "zen",
    "calm",
    "peace",
    "meditate",
    "breathe",
    "exhale",
    "inhale",
    "pose",
    "stretch",
    "balance",
    "flex",
    "core",
    "align",
    "center",
    "focus",
    "mantra",
    "chant",
    "om",
    "karma",
    "chakra",
    "spirit",
    "soul",
    "mind",
    "body",
    "harmony",
    "serene",
    "tranquil",
    "bliss",
    "enlighten",
    "awaken",
    "flow",
    "gentle",
    "still",
    "quiet",
  ],
  "Outer Space Diner": [
    "alien",
    "planet",
    "star",
    "rocket",
    "laser",
    "beam",
    "orbit",
    "crater",
    "asteroid",
    "comet",
    "meteor",
    "nebula",
    "galaxy",
    "cosmic",
    "space",
    "void",
    "warp",
    "portal",
    "probe",
    "satellite",
    "module",
    "capsule",
    "suit",
    "helmet",
    "oxygen",
    "gravity",
    "zero",
    "float",
    "dock",
    "launch",
    "mission",
    "control",
  ],
  "The Wild West": [
    "cowboy",
    "sheriff",
    "outlaw",
    "bandit",
    "ranch",
    "horse",
    "saddle",
    "lasso",
    "rodeo",
    "corral",
    "saloon",
    "whiskey",
    "barrel",
    "wagon",
    "dust",
    "desert",
    "canyon",
    "mesa",
    "cactus",
    "tumbleweed",
    "gold",
    "mine",
    "prospect",
    "nugget",
    "boot",
    "spur",
    "hat",
    "holster",
    "duel",
    "frontier",
    "homestead",
    "cattle",
    "brand",
  ],
  "Fairy Tale": [
    "fairy",
    "tale",
    "princess",
    "prince",
    "castle",
    "dragon",
    "knight",
    "queen",
    "king",
    "witch",
    "wizard",
    "magic",
    "spell",
    "wand",
    "curse",
    "enchant",
    "tower",
    "forest",
    "wolf",
    "giant",
    "dwarf",
    "elf",
    "troll",
    "goblin",
    "frog",
    "mirror",
    "crown",
    "throne",
    "quest",
    "treasure",
    "golden",
    "silver",
    "crystal",
    "happily",
  ],
  "Pirate's Treasure": [
    "treasure",
    "gold",
    "silver",
    "jewel",
    "gem",
    "ruby",
    "emerald",
    "sapphire",
    "diamond",
    "pearl",
    "coin",
    "doubloon",
    "chest",
    "map",
    "compass",
    "key",
    "lock",
    "vault",
    "safe",
    "hoard",
    "loot",
    "bounty",
    "fortune",
    "wealth",
    "rich",
    "prize",
    "reward",
    "plunder",
    "booty",
    "trinket",
    "crown",
    "tiara",
    "scepter",
  ],
}

// ─── Parse wordlist ──────────────────────────────────────────────

const wordlistPath = join(import.meta.dir, "../src/assets/wordlist/NWL2023.txt")
const raw = readFileSync(wordlistPath, "utf-8")
const lines = raw.split("\n")

interface TaggedWord {
  w: string // word
  d: string // definition
  t: number[] // theme indices
}

const themeNames = Object.keys(THEMES)
const themeKeywords: string[][] = themeNames.map((name) => THEMES[name].map((k) => k.toLowerCase()))

const words: TaggedWord[] = []
let skipped = 0

for (const line of lines) {
  const trimmed = line.trim()
  if (!trimmed) continue

  const spaceIdx = trimmed.indexOf(" ")
  if (spaceIdx === -1) continue

  const word = trimmed.slice(0, spaceIdx)

  // Only crossword-suitable lengths
  if (word.length < 3 || word.length > 15) {
    skipped++
    continue
  }

  let rest = trimmed.slice(spaceIdx + 1)
  // Take first definition
  const slashIdx = rest.indexOf(" / ")
  if (slashIdx !== -1) rest = rest.slice(0, slashIdx)
  // Remove bracket
  const bracketIdx = rest.lastIndexOf("[")
  if (bracketIdx !== -1) rest = rest.slice(0, bracketIdx).trim()
  // Clean up references
  rest = rest.replace(/\{(\w+)=\w+\}/g, "$1")
  rest = rest.replace(/<(\w+)=\w+>/g, "$1")
  const definition = rest.trim()
  if (!definition) continue

  // Match against themes
  const searchText = `${word} ${definition}`.toLowerCase()
  const matchedThemes: number[] = []

  for (let ti = 0; ti < themeNames.length; ti++) {
    const keywords = themeKeywords[ti]
    for (const kw of keywords) {
      if (searchText.includes(kw)) {
        matchedThemes.push(ti)
        break
      }
    }
  }

  words.push({ w: word, d: definition, t: matchedThemes })
}

// ─── Output ──────────────────────────────────────────────────────

const output = { themes: themeNames, words }
const outputPath = join(import.meta.dir, "../src/assets/wordlist/NWL2023-themed.json")
writeFileSync(outputPath, JSON.stringify(output))

// Stats
const tagged = words.filter((w) => w.t.length > 0).length
console.log(`Done! ${words.length} words processed (${skipped} skipped for length)`)
console.log(
  `${tagged} words tagged with at least one theme (${Math.round((tagged / words.length) * 100)}%)`,
)
console.log(`${themeNames.length} themes defined`)
console.log(`Output: ${outputPath}`)

// Per-theme stats
for (let i = 0; i < themeNames.length; i++) {
  const count = words.filter((w) => w.t.includes(i)).length
  console.log(`  ${themeNames[i]}: ${count} words`)
}
